\usetheme[titleformat=regular,numbering=none,progressbar=frametitle]{metropolis}

% colour scheme
\definecolor{nclBlue}{HTML}{003A65}
\definecolor{nclRed}{HTML}{D91A35}
\definecolor{grey}{rgb}{0.52, 0.52, 0.51}
\definecolor{red}{rgb}{0.7, 0.11, 0.11}
\definecolor{blue}{rgb}{0.0, 0.0, 0.55}
\definecolor{green}{rgb}{0.0, 0.42, 0.24}

% beamer
\setbeamercovered{transparent}
\setbeamercovered{invisible}
\setbeamercolor{progress bar}{fg=nclRed}
\setbeamercolor{frametitle}{bg=nclBlue}
\setbeamercolor{background canvas}{bg=white}
\setbeamercolor{block body}{bg=gray!30}
\setbeamercolor{block title}{bg=nclBlue,fg=white}
\setbeamercolor{palette primary}{fg=white, bg=nclBlue}
\linespread{1.5}

% packages
\usepackage{graphicx}
\usepackage{booktabs}
\usepackage{amssymb}
\usepackage{pifont}
\usepackage{textcomp}
\usepackage{xcolor}
\usepackage{url}
\usepackage{xspace}
\usepackage{amsmath}
\usepackage{mathspec}
\usepackage[font=footnotesize]{caption}
\usepackage{subcaption}
% Thin fonts
\setsansfont[BoldFont={Fira Sans}, Numbers={OldStyle}]{Fira Sans Light}
\setmathsfont(Digits)[Numbers={Lining, Proportional}]{Fira Sans Light}

% Thick fonts
% \setsansfont[BoldFont={Fira Sans SemiBold}, Numbers={OldStyle}]{Fira Sans}
% \setmathsfont(Digits)[Numbers={Lining, Proportional}]{Fira Sans Book}

% commands
\newcommand{\tDelta}{\textsf{Delta}\xspace}

% tikz configuration
\usetikzlibrary{shapes.geometric, arrows}
\usetikzlibrary{arrows, positioning, shapes}
\usetikzlibrary{decorations.pathmorphing}
\usetikzlibrary{calc}
\tikzstyle{vertex} = [circle, minimum width=15pt,draw,inner sep=0pt]
\tikzstyle{mini_vertex} = [circle, minimum width=15pt,draw,inner sep=0pt]
\tikzstyle{server} = [rectangle, rounded corners,minimum width=3cm,minimum height=4cm,draw=black]
\tikzstyle{mini_server} = [rectangle, rounded corners,minimum width=1.5cm,minimum height=1.9cm,draw=black]
\tikzstyle{local} = [thick,->,>=stealth]
\tikzstyle{dist} = [thick,dashed,->,>=stealth]
\tikzstyle{bignode}=[draw, circle, minimum width=70pt,align=center]

\tikzstyle{big_vertex} = [circle, minimum width=50pt,draw,inner sep=0pt]

\def\record(#1,#2,#3,#4,#5,#6){
  \node (v) [draw,black,minimum height=0.9cm,minimum width=1cm,text width=0.2\linewidth,xshift=-7cm,align=center,yshift=#1cm] {#2};

  \node (b) [draw,black,minimum height=0.9cm,minimum width=15.9cm,text width=0.2\linewidth,xshift=2.85cm,yshift=#1cm] {};

  \draw[thick,->] (v) -- (b);

  \node (i1)  [draw,black,minimum height=0.6cm,minimum width=2cm,xshift=-3.1cm,text width=0.25\linewidth,yshift=#1cm,align=center] {#3};

  \node (i2)  [draw,black,minimum height=0.6cm,minimum width=2cm,xshift=1.9cm,right of=i1,yshift=0cm,text width=0.25\linewidth,align=center] {#4};

  \node (i3)  [draw,black,minimum height=0.6cm,minimum width=2cm,xshift=1.9cm,right of=i2,text width=0.25\linewidth,yshift=0cm,align=center] {#5};

  \node (i4)  [draw,black,minimum height=0.6cm,minimum width=2cm,xshift=1.9cm,right of=i3,text width=0.25\linewidth,yshift=0cm,align=center] {#6};

}

        \def\greenRecord(#1,#2,#3,#4,#5,#6){
  \node (v) [draw,black,minimum height=0.9cm,minimum width=1cm,text width=0.2\linewidth,xshift=-7cm,align=center,yshift=#1cm] {#2};

  \node (b) [draw,black,minimum height=0.9cm,minimum width=15.9cm,text width=0.2\linewidth,xshift=2.85cm,yshift=#1cm] {};

  \draw[thick,->] (v) -- (b);

  \node (i1)  [draw,black,minimum height=0.6cm,minimum width=2cm,xshift=-3.1cm,text width=0.25\linewidth,yshift=#1cm,align=center] {#3};

  \node (i2)  [draw,black,minimum height=0.6cm,minimum width=2cm,xshift=1.9cm,right of=i1,yshift=0cm,text width=0.25\linewidth,align=center,fill=green!30] {#4};

  \node (i3)  [draw,black,minimum height=0.6cm,minimum width=2cm,xshift=1.9cm,right of=i2,text width=0.25\linewidth,yshift=0cm,align=center] {#5};

  \node (i4)  [draw,black,minimum height=0.6cm,minimum width=2cm,xshift=1.9cm,right of=i3,text width=0.25\linewidth,yshift=0cm,align=center] {#6};

}

        \def\greenRecordB(#1,#2,#3,#4,#5,#6){
  \node (v) [draw,black,minimum height=0.9cm,minimum width=1cm,text width=0.2\linewidth,xshift=-7cm,align=center,yshift=#1cm] {#2};

  \node (b) [draw,black,minimum height=0.9cm,minimum width=15.9cm,text width=0.2\linewidth,xshift=2.85cm,yshift=#1cm] {};

  \draw[thick,->] (v) -- (b);

  \node (i1)  [draw,black,minimum height=0.6cm,minimum width=2cm,xshift=-3.1cm,text width=0.25\linewidth,yshift=#1cm,align=center] {#3};

  \node (i2)  [draw,black,minimum height=0.6cm,minimum width=2cm,xshift=1.9cm,right of=i1,yshift=0cm,text width=0.25\linewidth,align=center] {#4};

  \node (i3)  [draw,black,minimum height=0.6cm,minimum width=2cm,xshift=1.9cm,right of=i2,text width=0.25\linewidth,yshift=0cm,align=center,fill=green!30] {#5};

  \node (i4)  [draw,black,minimum height=0.6cm,minimum width=2cm,xshift=1.9cm,right of=i3,text width=0.25\linewidth,yshift=0cm,align=center] {#6};

}


\def\spaceRecord(#1){
  \node (v) [black,minimum height=0.9cm,minimum width=1cm,text width=0.2\linewidth,xshift=-7cm,align=center,yshift=#1cm] {$\vdots$};
  \node (b) [black,minimum height=0.9cm,minimum width=15.9cm,text width=0.2\linewidth,xshift=1.4cm,yshift=#1cm] {};
  \node (i1)  [black,minimum height=0.6cm,minimum width=2cm,xshift=-3.1cm,text width=0.3\linewidth,yshift=#1cm,align=center] {$\vdots$};
  \node (i2)  [black,minimum height=0.6cm,minimum width=2cm,xshift=1.9cm,right of=i1,yshift=0cm,text width=0.3\linewidth,align=center] {$\vdots$};
  \node (i3)  [minimum height=0.6cm,minimum width=2cm,xshift=1.9cm,right of=i2,yshift=0cm,align=center] {$\vdots$};
  \node (i4)  [minimum height=0.6cm,minimum width=2cm,xshift=1.9cm,right of=i3,yshift=0cm,align=center] {$\vdots$};
}
